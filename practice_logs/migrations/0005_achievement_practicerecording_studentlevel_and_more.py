# Generated by Django 4.2.22 on 2025-06-11 02:24

import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import practice_logs.models.recordings


class Migration(migrations.Migration):

    dependencies = [
        ('practice_logs', '0004_practicelog_practice_lo_student_0cbd3f_idx'),
    ]

    operations = [
        migrations.CreateModel(
            name='Achievement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='æˆå°±å¾½ç« çš„é¡¯ç¤ºåç¨±', max_length=100, verbose_name='å¾½ç« åç¨±')),
                ('description', models.TextField(help_text='è©³ç´°æè¿°å¦‚ä½•ç²å¾—æ­¤å¾½ç« ', verbose_name='å¾½ç« æè¿°')),
                ('icon', models.CharField(default='ğŸ†', help_text='Font Awesomeåœ–ç¤ºé¡åæˆ–emoji', max_length=50, verbose_name='å¾½ç« åœ–ç¤º')),
                ('category', models.CharField(choices=[('persistence', 'å …æŒé¡'), ('quality', 'å“è³ªé¡'), ('milestone', 'é‡Œç¨‹ç¢‘é¡'), ('skill', 'æŠ€èƒ½é¡'), ('challenge', 'æŒ‘æˆ°é¡')], max_length=20, verbose_name='å¾½ç« é¡åˆ¥')),
                ('requirement_type', models.CharField(choices=[('consecutive_days', 'é€£çºŒç·´ç¿’å¤©æ•¸'), ('total_hours', 'ç¸½ç·´ç¿’æ™‚é–“'), ('average_rating', 'å¹³å‡è©•åˆ†'), ('focus_hours', 'å°ˆé …ç·´ç¿’æ™‚é–“'), ('piece_mastery', 'æ›²ç›®æŒæ¡'), ('challenge_complete', 'æŒ‘æˆ°å®Œæˆ'), ('total_sessions', 'ç¸½ç·´ç¿’æ¬¡æ•¸'), ('week_consistency', 'é€±ç·´ç¿’ä¸€è‡´æ€§'), ('improvement_rate', 'é€²æ­¥é€Ÿåº¦')], max_length=30, verbose_name='é”æˆæ¢ä»¶é¡å‹')),
                ('requirement_value', models.FloatField(help_text='éœ€è¦é”åˆ°çš„æ•¸å€¼ï¼ˆå¦‚ï¼š7å¤©ã€100å°æ™‚ã€4.5åˆ†ç­‰ï¼‰', verbose_name='é”æˆæ¢ä»¶æ•¸å€¼')),
                ('points', models.IntegerField(default=10, validators=[django.core.validators.MinValueValidator(1)], verbose_name='ç²å¾—ç©åˆ†')),
                ('rarity', models.CharField(choices=[('common', 'æ™®é€š'), ('rare', 'ç¨€æœ‰'), ('epic', 'å²è©©'), ('legendary', 'å‚³å¥‡')], default='common', max_length=10, verbose_name='ç¨€æœ‰åº¦')),
                ('is_active', models.BooleanField(default=True, help_text='åœç”¨çš„å¾½ç« ä¸æœƒè¢«æª¢æŸ¥æˆ–ç²å¾—', verbose_name='æ˜¯å¦å•Ÿç”¨')),
                ('created_date', models.DateTimeField(auto_now_add=True, verbose_name='å‰µå»ºæ™‚é–“')),
            ],
            options={
                'verbose_name': 'æˆå°±å¾½ç« ',
                'verbose_name_plural': 'æˆå°±å¾½ç« ',
                'ordering': ['category', 'requirement_value'],
            },
        ),
        migrations.CreateModel(
            name='PracticeRecording',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('student_name', models.CharField(db_index=True, max_length=100, verbose_name='å­¸ç”Ÿå§“å')),
                ('piece', models.CharField(help_text='æ¼”å¥çš„æ¨‚æ›²åç¨±', max_length=200, verbose_name='æ¼”å¥æ›²ç›®')),
                ('recording_type', models.CharField(choices=[('audio', 'éŸ³é »'), ('video', 'å½±ç‰‡')], max_length=10, verbose_name='éŒ„éŸ³é¡å‹')),
                ('file_path', models.FileField(upload_to=practice_logs.models.recordings.recording_upload_path, validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['mp3', 'wav', 'ogg', 'mp4', 'avi', 'mov', 'webm'])], verbose_name='æª”æ¡ˆè·¯å¾‘')),
                ('thumbnail', models.ImageField(blank=True, help_text='å½±ç‰‡ç¸®åœ–æˆ–éŸ³é »æ³¢å½¢åœ–', null=True, upload_to='recordings/thumbnails/', verbose_name='ç¸®åœ–')),
                ('upload_date', models.DateTimeField(auto_now_add=True, verbose_name='ä¸Šå‚³æ™‚é–“')),
                ('week_number', models.PositiveIntegerField(help_text='è¨˜éŒ„é€™æ˜¯ç¬¬å¹¾é€±çš„ç·´ç¿’éŒ„éŸ³', verbose_name='ç¬¬å¹¾é€±éŒ„éŸ³')),
                ('duration', models.PositiveIntegerField(blank=True, help_text='éŒ„éŸ³æˆ–å½±ç‰‡çš„æ™‚é•·', null=True, verbose_name='æ™‚é•·ï¼ˆç§’ï¼‰')),
                ('file_size', models.PositiveIntegerField(blank=True, null=True, verbose_name='æª”æ¡ˆå¤§å°ï¼ˆbytesï¼‰')),
                ('notes', models.TextField(blank=True, help_text='é—œæ–¼é€™æ¬¡éŒ„éŸ³çš„å‚™è¨»', verbose_name='ç·´ç¿’ç­†è¨˜')),
                ('self_rating', models.PositiveIntegerField(help_text='å­¸ç”Ÿå°è‡ªå·±æ¼”å¥çš„è©•åˆ†ï¼ˆ1-5åˆ†ï¼‰', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)], verbose_name='è‡ªæˆ‘è©•åˆ†')),
                ('teacher_score', models.FloatField(blank=True, help_text='æ•™å¸«çµ¦å‡ºçš„å°ˆæ¥­è©•åˆ†', null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(10)], verbose_name='æ•™å¸«è©•åˆ†')),
                ('teacher_feedback', models.TextField(blank=True, help_text='æ•™å¸«çš„è©³ç´°å›é¥‹èˆ‡å»ºè­°', verbose_name='æ•™å¸«å›é¥‹')),
                ('is_featured', models.BooleanField(default=False, help_text='æ˜¯å¦åœ¨å±•ç¤ºé é¢ä¸­çªå‡ºé¡¯ç¤º', verbose_name='æ˜¯å¦ç‚ºç²¾é¸')),
                ('is_public', models.BooleanField(default=False, help_text='æ˜¯å¦å…è¨±å…¶ä»–äººæŸ¥çœ‹', verbose_name='æ˜¯å¦å…¬é–‹')),
                ('status', models.CharField(choices=[('processing', 'è™•ç†ä¸­'), ('ready', 'å°±ç·’'), ('failed', 'å¤±æ•—'), ('archived', 'å·²æ­¸æª”')], default='processing', max_length=20, verbose_name='è™•ç†ç‹€æ…‹')),
                ('view_count', models.PositiveIntegerField(default=0, verbose_name='è§€çœ‹æ¬¡æ•¸')),
            ],
            options={
                'verbose_name': 'ç·´ç¿’éŒ„éŸ³',
                'verbose_name_plural': 'ç·´ç¿’éŒ„éŸ³',
                'ordering': ['-upload_date'],
            },
        ),
        migrations.CreateModel(
            name='StudentLevel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('student_name', models.CharField(max_length=100, unique=True, verbose_name='å­¸ç”Ÿå§“å')),
                ('level', models.IntegerField(default=1, validators=[django.core.validators.MinValueValidator(1)], verbose_name='ç­‰ç´š')),
                ('total_points', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='ç¸½ç©åˆ†')),
                ('current_experience', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='ç•¶å‰ç¶“é©—å€¼')),
                ('current_streak', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='é€£çºŒç·´ç¿’å¤©æ•¸')),
                ('longest_streak', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='æœ€é•·é€£çºŒå¤©æ•¸')),
                ('title', models.CharField(choices=[('åˆå­¸è€…', 'åˆå­¸è€…'), ('å…¥é–€å­¸å¾’', 'å…¥é–€å­¸å¾’'), ('ç·´ç¿’æ–°æ‰‹', 'ç·´ç¿’æ–°æ‰‹'), ('éŸ³å¾‹æ¢ç´¢è€…', 'éŸ³å¾‹æ¢ç´¢è€…'), ('å¼¦éŸ³å­¸è€…', 'å¼¦éŸ³å­¸è€…'), ('æ—‹å¾‹ç¹”é€ è€…', 'æ—‹å¾‹ç¹”é€ è€…'), ('å’Œè²å¤§å¸«', 'å’Œè²å¤§å¸«'), ('éŸ³æ¨‚è©©äºº', 'éŸ³æ¨‚è©©äºº'), ('ç´å¼¦è–æ‰‹', 'ç´å¼¦è–æ‰‹'), ('æ¨‚ç« å‚³å¥‡', 'æ¨‚ç« å‚³å¥‡')], default='åˆå­¸è€…', max_length=50, verbose_name='ç¨±è™Ÿ')),
                ('last_practice_date', models.DateField(blank=True, null=True, verbose_name='æœ€å¾Œç·´ç¿’æ—¥æœŸ')),
                ('total_practice_time', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='ç¸½ç·´ç¿’æ™‚é–“ï¼ˆåˆ†é˜ï¼‰')),
                ('created_date', models.DateTimeField(auto_now_add=True, verbose_name='å‰µå»ºæ™‚é–“')),
                ('updated_date', models.DateTimeField(auto_now=True, verbose_name='æ›´æ–°æ™‚é–“')),
            ],
            options={
                'verbose_name': 'å­¸ç”Ÿç­‰ç´š',
                'verbose_name_plural': 'å­¸ç”Ÿç­‰ç´š',
                'ordering': ['-level', '-total_points'],
            },
        ),
        migrations.CreateModel(
            name='WeeklyChallenge',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('student_name', models.CharField(db_index=True, max_length=100, verbose_name='å­¸ç”Ÿå§“å')),
                ('week_start', models.DateField(help_text='æŒ‘æˆ°é€±æœŸçš„é–‹å§‹æ—¥æœŸï¼ˆé€±ä¸€ï¼‰', verbose_name='é€±é–‹å§‹æ—¥æœŸ')),
                ('challenge_type', models.CharField(choices=[('practice_time', 'ç·´ç¿’æ™‚é–“æŒ‘æˆ°'), ('consecutive_days', 'é€£çºŒç·´ç¿’æŒ‘æˆ°'), ('skill_focus', 'æŠ€å·§å°ˆæ³¨æŒ‘æˆ°'), ('piece_mastery', 'æ›²ç›®ç²¾é€šæŒ‘æˆ°'), ('rating_improvement', 'è©•åˆ†æå‡æŒ‘æˆ°'), ('recording_upload', 'éŒ„éŸ³ä¸Šå‚³æŒ‘æˆ°'), ('variety_practice', 'å¤šæ¨£åŒ–ç·´ç¿’æŒ‘æˆ°')], max_length=30, verbose_name='æŒ‘æˆ°é¡å‹')),
                ('title', models.CharField(max_length=200, verbose_name='æŒ‘æˆ°æ¨™é¡Œ')),
                ('description', models.TextField(help_text='è©³ç´°æè¿°æŒ‘æˆ°çš„è¦æ±‚å’Œè¦å‰‡', verbose_name='æŒ‘æˆ°æè¿°')),
                ('target_value', models.FloatField(help_text='éœ€è¦é”åˆ°çš„ç›®æ¨™å€¼ï¼ˆå¦‚ï¼š120åˆ†é˜ã€5å¤©ã€3.5åˆ†ç­‰ï¼‰', verbose_name='ç›®æ¨™æ•¸å€¼')),
                ('current_progress', models.FloatField(default=0, help_text='ç›®å‰å·²é”æˆçš„æ•¸å€¼', verbose_name='ç•¶å‰é€²åº¦')),
                ('is_completed', models.BooleanField(default=False, verbose_name='æ˜¯å¦å®Œæˆ')),
                ('completion_date', models.DateTimeField(blank=True, null=True, verbose_name='å®Œæˆæ™‚é–“')),
                ('points_reward', models.IntegerField(default=50, validators=[django.core.validators.MinValueValidator(1)], verbose_name='çå‹µç©åˆ†')),
                ('bonus_points', models.IntegerField(default=0, help_text='æå‰å®Œæˆæˆ–è¶…é¡å®Œæˆçš„é¡å¤–çå‹µ', verbose_name='é¡å¤–çå‹µç©åˆ†')),
                ('created_by', models.CharField(choices=[('auto', 'è‡ªå‹•ç”Ÿæˆ'), ('teacher', 'æ•™å¸«å‰µå»º'), ('system', 'ç³»çµ±æ¨è–¦')], default='auto', max_length=20, verbose_name='å‰µå»ºè€…')),
                ('difficulty', models.CharField(choices=[('easy', 'ç°¡å–®'), ('medium', 'ä¸­ç­‰'), ('hard', 'å›°é›£'), ('expert', 'å°ˆå®¶')], default='medium', max_length=10, verbose_name='é›£åº¦')),
                ('status', models.CharField(choices=[('active', 'é€²è¡Œä¸­'), ('completed', 'å·²å®Œæˆ'), ('failed', 'å·²å¤±æ•—'), ('expired', 'å·²éæœŸ')], default='active', max_length=20, verbose_name='ç‹€æ…‹')),
                ('priority', models.IntegerField(default=1, help_text='æ•¸å­—è¶Šå¤§å„ªå…ˆç´šè¶Šé«˜', verbose_name='å„ªå…ˆç´š')),
                ('created_date', models.DateTimeField(auto_now_add=True, verbose_name='å‰µå»ºæ™‚é–“')),
            ],
            options={
                'verbose_name': 'æ¯é€±æŒ‘æˆ°',
                'verbose_name_plural': 'æ¯é€±æŒ‘æˆ°',
                'ordering': ['-priority', '-week_start'],
                'indexes': [models.Index(fields=['student_name', 'week_start'], name='practice_lo_student_00952e_idx'), models.Index(fields=['status', 'week_start'], name='practice_lo_status_6e6ca6_idx'), models.Index(fields=['challenge_type'], name='practice_lo_challen_e066e5_idx')],
                'unique_together': {('student_name', 'week_start', 'challenge_type')},
            },
        ),
        migrations.CreateModel(
            name='StudentGoal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('student_name', models.CharField(db_index=True, max_length=100, verbose_name='å­¸ç”Ÿå§“å')),
                ('goal_type', models.CharField(choices=[('weekly', 'é€±ç›®æ¨™'), ('monthly', 'æœˆç›®æ¨™'), ('semester', 'å­¸æœŸç›®æ¨™'), ('yearly', 'å¹´åº¦ç›®æ¨™'), ('custom', 'è‡ªå®šç¾©ç›®æ¨™')], max_length=20, verbose_name='ç›®æ¨™é¡å‹')),
                ('title', models.CharField(max_length=200, verbose_name='ç›®æ¨™æ¨™é¡Œ')),
                ('description', models.TextField(verbose_name='ç›®æ¨™æè¿°')),
                ('target_date', models.DateField(verbose_name='ç›®æ¨™é”æˆæ—¥æœŸ')),
                ('progress_metric', models.CharField(help_text='å¦‚ï¼šç·´ç¿’æ™‚é–“ã€æŒæ¡æ›²ç›®æ•¸ã€è©•åˆ†ç­‰', max_length=50, verbose_name='é€²åº¦æŒ‡æ¨™')),
                ('target_value', models.FloatField(verbose_name='ç›®æ¨™æ•¸å€¼')),
                ('current_value', models.FloatField(default=0, verbose_name='ç•¶å‰æ•¸å€¼')),
                ('status', models.CharField(choices=[('active', 'é€²è¡Œä¸­'), ('achieved', 'å·²é”æˆ'), ('paused', 'æš«åœ'), ('cancelled', 'å·²å–æ¶ˆ')], default='active', max_length=20, verbose_name='ç‹€æ…‹')),
                ('is_public', models.BooleanField(default=False, help_text='æ˜¯å¦åœ¨å±•ç¤ºé é¢ä¸­é¡¯ç¤º', verbose_name='æ˜¯å¦å…¬é–‹')),
                ('created_date', models.DateTimeField(auto_now_add=True, verbose_name='å‰µå»ºæ™‚é–“')),
                ('achieved_date', models.DateTimeField(blank=True, null=True, verbose_name='é”æˆæ™‚é–“')),
            ],
            options={
                'verbose_name': 'å­¸ç”Ÿç›®æ¨™',
                'verbose_name_plural': 'å­¸ç”Ÿç›®æ¨™',
                'ordering': ['-created_date'],
                'indexes': [models.Index(fields=['student_name', 'status'], name='practice_lo_student_20dc06_idx'), models.Index(fields=['target_date'], name='practice_lo_target__a3a1b7_idx'), models.Index(fields=['goal_type'], name='practice_lo_goal_ty_c2d664_idx')],
            },
        ),
        migrations.CreateModel(
            name='StudentAchievement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('student_name', models.CharField(db_index=True, max_length=100, verbose_name='å­¸ç”Ÿå§“å')),
                ('earned_date', models.DateTimeField(auto_now_add=True, verbose_name='ç²å¾—æ™‚é–“')),
                ('progress', models.FloatField(default=0, help_text='ç•¶å‰é”æˆé€²åº¦ï¼Œ0-100', validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='é€²åº¦ç™¾åˆ†æ¯”')),
                ('is_earned', models.BooleanField(default=False, verbose_name='æ˜¯å¦å·²ç²å¾—')),
                ('notification_sent', models.BooleanField(default=False, verbose_name='æ˜¯å¦å·²ç™¼é€é€šçŸ¥')),
                ('achievement', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='practice_logs.achievement', verbose_name='æˆå°±')),
            ],
            options={
                'verbose_name': 'å­¸ç”Ÿæˆå°±',
                'verbose_name_plural': 'å­¸ç”Ÿæˆå°±',
                'ordering': ['-earned_date'],
            },
        ),
        migrations.CreateModel(
            name='RecordingProgress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('student_name', models.CharField(db_index=True, max_length=100, verbose_name='å­¸ç”Ÿå§“å')),
                ('piece', models.CharField(max_length=200, verbose_name='æ›²ç›®')),
                ('improvement_score', models.FloatField(blank=True, help_text='è¨ˆç®—å¾—å‡ºçš„é€²æ­¥ç¨‹åº¦è©•åˆ†', null=True, verbose_name='é€²æ­¥åˆ†æ•¸')),
                ('total_recordings', models.PositiveIntegerField(default=0, verbose_name='ç¸½éŒ„éŸ³æ•¸')),
                ('weeks_span', models.PositiveIntegerField(default=0, verbose_name='è·¨è¶Šé€±æ•¸')),
                ('created_date', models.DateTimeField(auto_now_add=True, verbose_name='å‰µå»ºæ™‚é–“')),
                ('updated_date', models.DateTimeField(auto_now=True, verbose_name='æ›´æ–°æ™‚é–“')),
                ('first_recording', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progress_as_first', to='practice_logs.practicerecording', verbose_name='ç¬¬ä¸€æ¬¡éŒ„éŸ³')),
                ('latest_recording', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progress_as_latest', to='practice_logs.practicerecording', verbose_name='æœ€æ–°éŒ„éŸ³')),
            ],
            options={
                'verbose_name': 'éŒ„éŸ³é€²æ­¥è¿½è¹¤',
                'verbose_name_plural': 'éŒ„éŸ³é€²æ­¥è¿½è¹¤',
                'ordering': ['-updated_date'],
            },
        ),
        migrations.CreateModel(
            name='RecordingComment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('commenter_type', models.CharField(choices=[('teacher', 'æ•™å¸«'), ('parent', 'å®¶é•·'), ('self', 'è‡ªå·±'), ('peer', 'åŒä¼´'), ('system', 'ç³»çµ±')], max_length=10, verbose_name='è©•è«–è€…é¡å‹')),
                ('commenter_name', models.CharField(max_length=100, verbose_name='è©•è«–è€…å§“å')),
                ('comment', models.TextField(verbose_name='è©•è«–å…§å®¹')),
                ('timestamp', models.DateTimeField(auto_now_add=True, verbose_name='è©•è«–æ™‚é–“')),
                ('rating', models.PositiveIntegerField(blank=True, help_text='å¯é¸çš„è©•åˆ†ï¼ˆ1-5åˆ†ï¼‰', null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)], verbose_name='è©•åˆ†')),
                ('is_encouraging', models.BooleanField(default=True, help_text='æ¨™è¨˜ç‚ºæ­£é¢é¼“å‹µçš„è©•è«–', verbose_name='æ˜¯å¦ç‚ºé¼“å‹µæ€§è©•è«–')),
                ('is_pinned', models.BooleanField(default=False, help_text='é‡è¦è©•è«–å¯ä»¥ç½®é ‚é¡¯ç¤º', verbose_name='æ˜¯å¦ç½®é ‚')),
                ('likes_count', models.PositiveIntegerField(default=0, verbose_name='é»è®šæ•¸')),
                ('recording', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='practice_logs.practicerecording', verbose_name='éŒ„éŸ³')),
                ('reply_to', models.ForeignKey(blank=True, help_text='å¦‚æœæ˜¯å›è¦†å…¶ä»–è©•è«–', null=True, on_delete=django.db.models.deletion.CASCADE, to='practice_logs.recordingcomment', verbose_name='å›è¦†çµ¦')),
            ],
            options={
                'verbose_name': 'éŒ„éŸ³è©•è«–',
                'verbose_name_plural': 'éŒ„éŸ³è©•è«–',
                'ordering': ['-is_pinned', '-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='PracticeTask',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('student_name', models.CharField(db_index=True, max_length=100, verbose_name='å­¸ç”Ÿå§“å')),
                ('task_type', models.CharField(choices=[('focus_practice', 'å°ˆé …ç·´ç¿’'), ('time_goal', 'æ™‚é–“ç›®æ¨™'), ('piece_mastery', 'æ›²ç›®æŒæ¡'), ('technique_improvement', 'æŠ€å·§æ”¹é€²'), ('recording_upload', 'éŒ„éŸ³ä¸Šå‚³'), ('theory_study', 'æ¨‚ç†å­¸ç¿’'), ('sight_reading', 'è¦–å¥ç·´ç¿’'), ('memorization', 'èƒŒè­œç·´ç¿’')], max_length=30, verbose_name='ä»»å‹™é¡å‹')),
                ('title', models.CharField(max_length=200, verbose_name='ä»»å‹™æ¨™é¡Œ')),
                ('description', models.TextField(help_text='è©³ç´°æè¿°ä»»å‹™è¦æ±‚å’Œå®Œæˆæ¨™æº–', verbose_name='ä»»å‹™æè¿°')),
                ('due_date', models.DateField(verbose_name='æˆªæ­¢æ—¥æœŸ')),
                ('estimated_minutes', models.PositiveIntegerField(blank=True, null=True, verbose_name='é ä¼°æ‰€éœ€æ™‚é–“ï¼ˆåˆ†é˜ï¼‰')),
                ('is_completed', models.BooleanField(default=False, verbose_name='æ˜¯å¦å®Œæˆ')),
                ('completion_date', models.DateTimeField(blank=True, null=True, verbose_name='å®Œæˆæ™‚é–“')),
                ('completion_notes', models.TextField(blank=True, help_text='å­¸ç”Ÿå®Œæˆä»»å‹™æ™‚çš„å¿ƒå¾—æˆ–å‚™è¨»', verbose_name='å®Œæˆå‚™è¨»')),
                ('priority', models.CharField(choices=[('low', 'ä½'), ('medium', 'ä¸­'), ('high', 'é«˜'), ('urgent', 'ç·Šæ€¥')], default='medium', max_length=10, verbose_name='å„ªå…ˆç´š')),
                ('status', models.CharField(choices=[('pending', 'å¾…é–‹å§‹'), ('in_progress', 'é€²è¡Œä¸­'), ('completed', 'å·²å®Œæˆ'), ('overdue', 'å·²é€¾æœŸ'), ('cancelled', 'å·²å–æ¶ˆ')], default='pending', max_length=20, verbose_name='ç‹€æ…‹')),
                ('points_reward', models.IntegerField(default=25, validators=[django.core.validators.MinValueValidator(1)], verbose_name='çå‹µç©åˆ†')),
                ('assigned_by', models.CharField(default='system', help_text='ä»»å‹™çš„åˆ†é…è€…ï¼ˆæ•™å¸«å§“åæˆ–systemï¼‰', max_length=100, verbose_name='åˆ†é…è€…')),
                ('related_piece', models.CharField(blank=True, help_text='å¦‚æœä»»å‹™èˆ‡ç‰¹å®šæ›²ç›®ç›¸é—œ', max_length=200, verbose_name='ç›¸é—œæ›²ç›®')),
                ('related_focus', models.CharField(blank=True, max_length=20, verbose_name='ç›¸é—œç·´ç¿’é‡é»')),
                ('created_date', models.DateTimeField(auto_now_add=True, verbose_name='å‰µå»ºæ™‚é–“')),
                ('updated_date', models.DateTimeField(auto_now=True, verbose_name='æ›´æ–°æ™‚é–“')),
            ],
            options={
                'verbose_name': 'ç·´ç¿’ä»»å‹™',
                'verbose_name_plural': 'ç·´ç¿’ä»»å‹™',
                'ordering': ['-priority', 'due_date', '-created_date'],
                'indexes': [models.Index(fields=['student_name', 'status'], name='practice_lo_student_4807f6_idx'), models.Index(fields=['due_date', 'is_completed'], name='practice_lo_due_dat_658e00_idx'), models.Index(fields=['task_type'], name='practice_lo_task_ty_555b4b_idx'), models.Index(fields=['priority', 'due_date'], name='practice_lo_priorit_6e5cb1_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='practicerecording',
            index=models.Index(fields=['student_name', 'upload_date'], name='practice_lo_student_363589_idx'),
        ),
        migrations.AddIndex(
            model_name='practicerecording',
            index=models.Index(fields=['piece', 'week_number'], name='practice_lo_piece_ffbc5a_idx'),
        ),
        migrations.AddIndex(
            model_name='practicerecording',
            index=models.Index(fields=['is_featured', 'is_public'], name='practice_lo_is_feat_ba70c3_idx'),
        ),
        migrations.AddIndex(
            model_name='practicerecording',
            index=models.Index(fields=['status'], name='practice_lo_status_271acb_idx'),
        ),
        migrations.AddIndex(
            model_name='achievement',
            index=models.Index(fields=['category', 'is_active'], name='practice_lo_categor_bf7362_idx'),
        ),
        migrations.AddIndex(
            model_name='achievement',
            index=models.Index(fields=['requirement_type'], name='practice_lo_require_4546ce_idx'),
        ),
        migrations.AddIndex(
            model_name='studentachievement',
            index=models.Index(fields=['student_name', 'is_earned'], name='practice_lo_student_1665b3_idx'),
        ),
        migrations.AddIndex(
            model_name='studentachievement',
            index=models.Index(fields=['earned_date'], name='practice_lo_earned__2c3967_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='studentachievement',
            unique_together={('student_name', 'achievement')},
        ),
        migrations.AlterUniqueTogether(
            name='recordingprogress',
            unique_together={('student_name', 'piece')},
        ),
        migrations.AddIndex(
            model_name='recordingcomment',
            index=models.Index(fields=['recording', 'timestamp'], name='practice_lo_recordi_f9d85d_idx'),
        ),
        migrations.AddIndex(
            model_name='recordingcomment',
            index=models.Index(fields=['commenter_type'], name='practice_lo_comment_e6c41a_idx'),
        ),
        migrations.AddIndex(
            model_name='recordingcomment',
            index=models.Index(fields=['is_pinned', 'is_encouraging'], name='practice_lo_is_pinn_4e1cb7_idx'),
        ),
    ]
